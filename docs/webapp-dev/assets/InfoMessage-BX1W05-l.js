import{e as M,D as $,E as w,G as B,f as s,o as t,g as i,m as f,u as k,A as a,F as u,s as d,x as l,ab as h,Z as D,t as y,_ as F}from"./confirm-LE9pv2Wk.js";import{s as N,i as V,u as E,I as v,_ as x}from"./ErrorMessage-C0hQdB7o.js";import{u as T}from"./HorizontalSelector-XBHpwfLm.js";function H(p){const e=[p.text];for(const o of p.attachments??[])switch(o.type){case"list":e.push("");for(const r of o.items)if(e.push(`- ${r.text}`),r.children)for(const c of r.children)e.push(`  - ${c}`);break;case"link":e.push(""),e.push(`[${o.text}](${o.url})`);break}return e.join(`
`)}const K={class:"message-area"},O={class:"message"},S={key:0,class:"list"},j=["onClick"],q={key:0},A={class:"main-buttons"},G=M({__name:"InfoMessage",setup(p){const e=T(),o=$();w(()=>{N(o.value,c),V(o.value)}),B(()=>{E(o.value)});const r=()=>{navigator.clipboard.writeText(H(e.message))},c=()=>{e.dequeue()};return(L,g)=>(t(),s("dialog",{ref_key:"dialog",ref:o,class:"message-box"},[i("div",K,[k(x,{icon:a(v).INFO},null,8,["icon"]),i("div",O,[(t(!0),s(u,null,d(a(e).message.text.split(`
`),(n,m)=>(t(),s("div",{key:m},l(n),1))),128))])]),(t(!0),s(u,null,d(a(e).message.attachments,(n,m)=>(t(),s("div",{key:m,class:"attachment"},[n.type==="list"?(t(),s("ul",S,[(t(!0),s(u,null,d(n.items,(_,b)=>(t(),s("li",{key:b,class:"list-item"},[h(l(_.text)+" ",1),i("ul",null,[(t(!0),s(u,null,d(_.children,(C,I)=>(t(),s("li",{key:I,class:"list-child-item"},l(C),1))),128))])]))),128))])):f("",!0),n.type==="link"?(t(),s("button",{key:1,onClick:_=>a(D).openWebBrowser(n.url)},l(n.text),9,j)):f("",!0)]))),128)),a(e).message.withCopyButton?(t(),s("div",q,[i("button",{onClick:r},[k(x,{icon:a(v).COPY},null,8,["icon"]),h(l(a(y).copy),1)])])):f("",!0),i("div",A,[i("button",{autofocus:"","data-hotkey":"Escape",onClick:g[0]||(g[0]=n=>c())},l(a(y).close),1)])],512))}}),Y=F(G,[["__scopeId","data-v-ae2bdb52"]]);export{Y as I};
